YUI.add("moodle-atto_addbutton-button",function(e,t){var n="atto_addbutton",r='<form class="atto_form"><label>{{get_string "enterstyle" component}}</label><input class="atto_addbutton_stylentry" type="text" id="{{elementid}}_atto_link_urlentry" size="32"/><br/><div class="mdl-align"><br/><button type="submit" class="submit">{{get_string "setstyle" component}}</button></div></form>';e.namespace("M.atto_addbutton").Button=e.Base.create("button",e.M.editor_atto.EditorPlugin,[],{_currentSelection:null,_content:null,initializer:function(){this.addButton({callback:this._displayDialogue})},_execCommand:function(e){var t=this.get("host");e.preventDefault(),this.getDialogue({focusAfterHide:null}).hide(),this.editor.focus(),t.setSelection(this._currentSelection);var n=this._content.one(".style").get("value");document.execCommand(n,!1,null),this.markUpdated()},_displayDialogue:function(){this._currentSelection=this.get("host").getSelection();if(this._currentSelection===!1)return;var e=this.getDialogue({headerContent:M.util.get_string("setstyle",n),focusAfterHide:!0,focusOnShowSelector:".atto_addbutton_stylentry"});e.set("bodyContent",this._getDialogueContent()),e.show()},_getDialogueContent:function(){var t=e.Handlebars.compile(r);return this._content=e.Node.create(t({component:n})),this._content.one(".submit").on("click",this._execCommand,this),this._content}})},"@VERSION@",{requires:["moodle-editor_atto-plugin"]});
